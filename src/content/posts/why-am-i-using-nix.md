---
title: 我为什么使用 Nix
pubDate: '2025-08-22'
---

> 这篇短文讲解的**不是** NixOS，不会提到任何管理系统，打包等知识。

Nix 最近是格外的火，不仅看到很多项目的根目录都加上了 `flake.nix`，甚至很多群友也在用。这篇短文讲解了我个人使用 Nix 的原因。

你有没有遇到过配环境配好几个小时甚至几天的情况？这种事情已经发生在我身上好几次了（苦笑）。

我在有电脑之前一直在用 Termux 学编程语言，但是苦于 Termux 的软件源 `termux-packages` 通常缺包或者与其他发行版的包名不同，导致了我的很多痛苦。

Nix 是一个通用的包管理器，它可以在任意 Linux 发行版或 macOS 上运行，而且 `nixpkgs` 有多达 120,000 个包（相对于 `termux-packages` 的 2500 个），减少了许多麻烦。

Nix 还有一个叫做 devShells 的功能，它类似 Python 的 `.venv` 虚拟环境，可以让你在不更改全局环境的前提下安装依赖，配置环境变量，或者在加载时跑自定义命令等。

并且 Nix 的 devShells 通常比 README.md 里的安装依赖步骤方便：如果你在本地安装了 Nix，你只需要跑 `nix develop` 这一条命令就可以使用你目前项目所需要的所有依赖。

如果你使用 direnv，Nix 可以让你的效率更上一层楼，它可以让你在进入项目目录时自动加载目前的 devShells，简直是方便的不能再方便。

Nix 启用了 Flakes 后还默认会为你的配置增加锁文件，所以也不用怕出现 "it works on my machine" 的尴尬场面，我的机器能跑别人的也能跑！
